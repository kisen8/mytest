{"mappings":"AA8CA,MAAMA,EAAOC,SAASC,cAAc,kBAC9BC,EAAOF,SAASC,cAAc,uBAC9BE,EAAOH,SAASC,cAAc,4BAIpCF,EAAKK,iBAAiB,SAEtB,WACE,MAAMC,EAAS,CACbC,MAAOJ,EAAKK,MACZC,QAASL,EAAKI,OAEhBE,aAAaC,QATG,sBASgBC,KAAKC,UAAUP,G,IAEjDN,EAAKK,iBAAiB,UAEtB,SAAkBS,GAChBA,EAAEC,iBACF,MAAMR,MAAEA,EAAKE,QAAEA,GAAYK,EAAEE,cAC7B,GAAoB,KAAhBT,EAAMC,OAAkC,KAAlBC,EAAQD,MAChC,OAAOS,MAAM,sCAEfL,KAAKM,MAAMR,aAAaS,QAnBR,wBAoBhBC,QAAQC,IAAI,CAAEC,KAAMnB,EAAKK,MAAOe,KAAMnB,EAAKI,QAC3CR,EAAKwB,QACLd,aAAae,WAtBG,sB,IAyBlB,MASMC,EATO,CAAAC,IACX,IACE,MAAMC,EAAkBlB,aAAaS,QAAQQ,GAC7C,OAA2B,OAApBC,OAA2BC,EAAYjB,KAAKM,MAAMU,E,CACzD,MAAOE,GACPV,QAAQU,MAAM,oBAAqBA,EAAMrB,Q,GAIpBsB,CAlCP,uBAoCdL,IACFvB,EAAKK,MAAQkB,EAAiBnB,MAC9BH,EAAKI,MAAQkB,EAAiBjB","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\n\n// const form = document.querySelector('.feedback-form');\n// const email = document.querySelector('input[name=\"email\"]');\n// const message = document.querySelector('textarea[name=\"message\"]');\n// const LOCALSTORAGE_KEY = 'feedback-form-state';\n\n// form.addEventListener('input', throttle(onInput, 500));\n\n// function onInput() {\n//   const objectToSave = { email: email.value, message: message.value };\n//   localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(objectToSave));\n// }\n\n// form.addEventListener('submit', onFormSubmit);\n\n// function onFormSubmit(e) {\n//   e.preventDefault();\n\n//   const { email, message } = e.currentTarget;\n//   if (email.value === '' || message.value === '') {\n//     return alert('Все поля должны быть заполнены!');\n//   }\n\n//   JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n//   console.log({ email: email.value, message: message.value });\n//   form.reset();\n//   localStorage.removeItem(LOCALSTORAGE_KEY);\n// }\n\n// const load = key => {\n//   try {\n//     const serializedState = localStorage.getItem(key);\n//     return serializedState === null ? undefined : JSON.parse(serializedState);\n//   } catch (error) {\n//     console.error('Get state error: ', error.message);\n//   }\n// };\n\n// const storageData = load(LOCALSTORAGE_KEY);\n// if (storageData) {\n//   email.value = storageData.email;\n//   message.value = storageData.message;\n// }\n// ----------------------------------------------------------------\n\nconst form = document.querySelector('.feedback-form');\nconst mail = document.querySelector('input[name=\"email\"]');\nconst mess = document.querySelector('textarea[name=\"message\"]');\n\nconst LOCAL_KEY = 'feedback-form-state';\n\nform.addEventListener('input', onInput);\n\nfunction onInput() {\n  const object = {\n    email: mail.value,\n    message: mess.value,\n  };\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(object));\n}\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const { email, message } = e.currentTarget;\n  if (email.value === '' || message.value === '') {\n    return alert('Please take info for all of fields');\n  }\n  JSON.parse(localStorage.getItem(LOCAL_KEY));\n  console.log({ mail: mail.value, mess: mess.value });\n  form.reset();\n  localStorage.removeItem(LOCAL_KEY);\n}\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst localStorageInfo = load(LOCAL_KEY);\n\nif (localStorageInfo) {\n  mail.value = localStorageInfo.email;\n  mess.value = localStorageInfo.message;\n}\n"],"names":["$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$mail","$945622fd0f572e60$var$mess","addEventListener","object","email","value","message","localStorage","setItem","JSON","stringify","e","preventDefault","currentTarget","alert","parse","getItem","console","log","mail","mess","reset","removeItem","$945622fd0f572e60$var$localStorageInfo","key","serializedState","undefined","error","$945622fd0f572e60$var$load"],"version":3,"file":"03-feedback.f1ed7021.js.map"}