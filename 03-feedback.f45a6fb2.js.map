{"mappings":"YA8CA,IAAMA,EAAOC,SAASC,cAAc,kBAC9BC,EAAOF,SAASC,cAAc,uBAC9BE,EAAOH,SAASC,cAAc,4BAE9BG,EAAY,sBAElBL,EAAKM,iBAAiB,SAEtB,WACE,IAAMC,EAAS,CACbC,MAAOL,EAAKM,MACZC,QAASN,EAAKK,OAEhBE,aAAaC,QAAQP,EAAWQ,KAAKC,UAAUP,G,IAEjDP,EAAKM,iBAAiB,UAEtB,SAAkBS,GAChBA,EAAEC,iBACF,IAA2BC,EAAAF,EAAEG,cAArBV,EAAmBS,EAAnBT,MAAOE,EAAYO,EAAZP,QACf,GAAoB,KAAhBF,EAAMC,OAAkC,KAAlBC,EAAQD,MAChC,OAAOU,MAAM,sCAEfN,KAAKO,MAAMT,aAAaU,QAAQhB,IAChCiB,QAAQC,IAAI,CAAEC,KAAMrB,EAAKM,MAAOgB,KAAMrB,EAAKK,QAC3CT,EAAK0B,QACLf,aAAagB,WAAWtB,E,IAG1B,IASMuB,EATO,SAAAC,GACX,IACE,IAAMC,EAAkBnB,aAAaU,QAAQQ,GAC7C,OAA2B,OAApBC,OAA2BC,EAAYlB,KAAKO,MAAMU,E,CACzD,MAAOE,GACPV,QAAQU,MAAM,oBAAqBA,EAAMtB,Q,EAIpBuB,CAAK5B,GAE1BuB,IACFzB,EAAKM,MAAQmB,EAAiBpB,MAC9BJ,EAAKK,MAAQmB,EAAiBlB,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\n\n// const form = document.querySelector('.feedback-form');\n// const email = document.querySelector('input[name=\"email\"]');\n// const message = document.querySelector('textarea[name=\"message\"]');\n// const LOCALSTORAGE_KEY = 'feedback-form-state';\n\n// form.addEventListener('input', throttle(onInput, 500));\n\n// function onInput() {\n//   const objectToSave = { email: email.value, message: message.value };\n//   localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(objectToSave));\n// }\n\n// form.addEventListener('submit', onFormSubmit);\n\n// function onFormSubmit(e) {\n//   e.preventDefault();\n\n//   const { email, message } = e.currentTarget;\n//   if (email.value === '' || message.value === '') {\n//     return alert('Все поля должны быть заполнены!');\n//   }\n\n//   JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n//   console.log({ email: email.value, message: message.value });\n//   form.reset();\n//   localStorage.removeItem(LOCALSTORAGE_KEY);\n// }\n\n// const load = key => {\n//   try {\n//     const serializedState = localStorage.getItem(key);\n//     return serializedState === null ? undefined : JSON.parse(serializedState);\n//   } catch (error) {\n//     console.error('Get state error: ', error.message);\n//   }\n// };\n\n// const storageData = load(LOCALSTORAGE_KEY);\n// if (storageData) {\n//   email.value = storageData.email;\n//   message.value = storageData.message;\n// }\n// ----------------------------------------------------------------\n\nconst form = document.querySelector('.feedback-form');\nconst mail = document.querySelector('input[name=\"email\"]');\nconst mess = document.querySelector('textarea[name=\"message\"]');\n\nconst LOCAL_KEY = 'feedback-form-state';\n\nform.addEventListener('input', onInput);\n\nfunction onInput() {\n  const object = {\n    email: mail.value,\n    message: mess.value,\n  };\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(object));\n}\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const { email, message } = e.currentTarget;\n  if (email.value === '' || message.value === '') {\n    return alert('Please take info for all of fields');\n  }\n  JSON.parse(localStorage.getItem(LOCAL_KEY));\n  console.log({ mail: mail.value, mess: mess.value });\n  form.reset();\n  localStorage.removeItem(LOCAL_KEY);\n}\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst localStorageInfo = load(LOCAL_KEY);\n\nif (localStorageInfo) {\n  mail.value = localStorageInfo.email;\n  mess.value = localStorageInfo.message;\n}\n"],"names":["$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$mail","$b00c40859be242c5$var$mess","$b00c40859be242c5$var$LOCAL_KEY","addEventListener","object","email","value","message","localStorage","setItem","JSON","stringify","e","preventDefault","_currentTarget","currentTarget","alert","parse","getItem","console","log","mail","mess","reset","removeItem","$b00c40859be242c5$var$localStorageInfo","key","serializedState","undefined","error","$b00c40859be242c5$var$load"],"version":3,"file":"03-feedback.f45a6fb2.js.map"}